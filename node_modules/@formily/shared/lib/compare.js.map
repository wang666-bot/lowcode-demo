{"version":3,"file":"compare.js","sourceRoot":"","sources":["../src/compare.ts"],"names":[],"mappings":"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","sourcesContent":["import { isArr } from './checkers'\nimport { instOf } from './instanceof'\nconst isArray = isArr\nconst keyList = Object.keys\nconst hasProp = Object.prototype.hasOwnProperty\n\n/* eslint-disable */\nfunction equal(a: any, b: any) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) {\n    return true\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const arrA = isArray(a)\n    const arrB = isArray(b)\n    let i: number\n    let length: number\n    let key: string | number\n\n    if (arrA && arrB) {\n      length = a.length\n      if (length !== b.length) {\n        return false\n      }\n      for (i = length; i-- !== 0; ) {\n        if (!equal(a[i], b[i])) {\n          return false\n        }\n      }\n      return true\n    }\n\n    if (arrA !== arrB) {\n      return false\n    }\n    const momentA = a && a._isAMomentObject\n    const momentB = b && b._isAMomentObject\n    if (momentA !== momentB) return false\n    if (momentA && momentB) return a.isSame(b)\n    const immutableA = a && a.toJS\n    const immutableB = b && b.toJS\n    if (immutableA !== immutableB) return false\n    if (immutableA) return a.is ? a.is(b) : a === b\n    const dateA = instOf(a, 'Date')\n    const dateB = instOf(b, 'Date')\n    if (dateA !== dateB) {\n      return false\n    }\n    if (dateA && dateB) {\n      return a.getTime() === b.getTime()\n    }\n    const regexpA = instOf(a, 'RegExp')\n    const regexpB = instOf(b, 'RegExp')\n    if (regexpA !== regexpB) {\n      return false\n    }\n    if (regexpA && regexpB) {\n      return a.toString() === b.toString()\n    }\n    const urlA = instOf(a, 'URL')\n    const urlB = instOf(b, 'URL')\n\n    if (urlA !== urlB) {\n      return false\n    }\n\n    if (urlA && urlB) {\n      return a.href === b.href\n    }\n\n    const schemaA = a && a.toJSON\n    const schemaB = b && b.toJSON\n    if (schemaA !== schemaB) return false\n    if (schemaA && schemaB) return equal(a.toJSON(), b.toJSON())\n\n    const keys = keyList(a)\n    length = keys.length\n\n    if (length !== keyList(b).length) {\n      return false\n    }\n\n    for (i = length; i-- !== 0; ) {\n      if (!hasProp.call(b, keys[i])) {\n        return false\n      }\n    }\n    // end fast-deep-equal\n\n    // Custom handling for React\n    for (i = length; i-- !== 0; ) {\n      key = keys[i]\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) {\n          return false\n        }\n      }\n    }\n\n    // fast-deep-equal index.js 2.0.1\n    return true\n  }\n\n  return a !== a && b !== b\n}\n// end fast-deep-equal\n\nexport const isEqual = function exportedEqual(a: any, b: any) {\n  try {\n    return equal(a, b)\n  } catch (error) {\n    /* istanbul ignore next */\n    if (\n      (error.message && error.message.match(/stack|recursion/i)) ||\n      error.number === -2146828260\n    ) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn(\n        'Warning: react-fast-compare does not handle circular references.',\n        error.name,\n        error.message\n      )\n      return false\n    }\n    // some other error. we should definitely know about these\n    /* istanbul ignore next */\n    throw error\n  }\n}\n"]}
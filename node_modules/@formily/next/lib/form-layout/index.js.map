{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/form-layout/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { createContext, useContext } from 'react'\nimport { useResponsiveFormLayout } from './useResponsiveFormLayout'\nimport { usePrefixCls } from '../__builtins__'\nimport cls from 'classnames'\n\nexport interface IFormLayoutProps {\n  prefix?: string\n  className?: string\n  style?: React.CSSProperties\n  colon?: boolean\n  labelAlign?: 'right' | 'left' | ('right' | 'left')[]\n  wrapperAlign?: 'right' | 'left' | ('right' | 'left')[]\n  labelWrap?: boolean\n  labelWidth?: number\n  wrapperWidth?: number\n  wrapperWrap?: boolean\n  labelCol?: number | number[]\n  wrapperCol?: number | number[]\n  fullness?: boolean\n  size?: 'small' | 'default' | 'large'\n  layout?:\n    | 'vertical'\n    | 'horizontal'\n    | 'inline'\n    | ('vertical' | 'horizontal' | 'inline')[]\n  direction?: 'rtl' | 'ltr'\n  inset?: boolean\n  shallow?: boolean\n  tooltipLayout?: 'icon' | 'text'\n  tooltipIcon?: React.ReactNode\n  feedbackLayout?: 'loose' | 'terse' | 'popover' | 'none'\n  bordered?: boolean\n  breakpoints?: number[]\n  gridColumnGap?: number\n  gridRowGap?: number\n  spaceGap?: number\n}\n\nexport interface IFormLayoutContext\n  extends Omit<\n    IFormLayoutProps,\n    'labelAlign' | 'wrapperAlign' | 'layout' | 'labelCol' | 'wrapperCol'\n  > {\n  labelAlign?: 'right' | 'left'\n  wrapperAlign?: 'right' | 'left'\n  layout?: 'vertical' | 'horizontal' | 'inline'\n  labelCol?: number\n  wrapperCol?: number\n}\n\nexport const FormLayoutDeepContext = createContext<IFormLayoutContext>(null)\n\nexport const FormLayoutShallowContext = createContext<IFormLayoutContext>(null)\n\nexport const useFormDeepLayout = () => useContext(FormLayoutDeepContext)\n\nexport const useFormShallowLayout = () => useContext(FormLayoutShallowContext)\n\nexport const useFormLayout = () => ({\n  ...useFormDeepLayout(),\n  ...useFormShallowLayout(),\n})\n\nexport const FormLayout: React.FC<React.PropsWithChildren<IFormLayoutProps>> & {\n  useFormLayout: () => IFormLayoutContext\n  useFormDeepLayout: () => IFormLayoutContext\n  useFormShallowLayout: () => IFormLayoutContext\n} = ({ shallow, children, prefix, className, style, ...otherProps }) => {\n  const { ref, props } = useResponsiveFormLayout(otherProps)\n  const deepLayout = useFormDeepLayout()\n  const formPrefixCls = usePrefixCls('form', { prefix })\n  const layoutPrefixCls = usePrefixCls('formily-layout', { prefix })\n  const layoutClassName = cls(\n    layoutPrefixCls,\n    {\n      [`${formPrefixCls}-${props.layout}`]: true,\n      [`${formPrefixCls}-rtl`]: props.direction === 'rtl',\n      [`${formPrefixCls}-${props.size}`]: props.size,\n    },\n    className\n  )\n  const renderChildren = () => {\n    const newDeepLayout = {\n      ...deepLayout,\n    }\n    if (!shallow) {\n      Object.assign(newDeepLayout, props)\n    } else {\n      if (props.size) {\n        newDeepLayout.size = props.size\n      }\n      if (props.colon) {\n        newDeepLayout.colon = props.colon\n      }\n    }\n    return (\n      <FormLayoutDeepContext.Provider value={newDeepLayout}>\n        <FormLayoutShallowContext.Provider value={shallow ? props : undefined}>\n          {children}\n        </FormLayoutShallowContext.Provider>\n      </FormLayoutDeepContext.Provider>\n    )\n  }\n  return (\n    <div ref={ref} className={layoutClassName} style={style}>\n      {renderChildren()}\n    </div>\n  )\n}\n\nFormLayout.defaultProps = {\n  shallow: true,\n}\n\nFormLayout.useFormDeepLayout = useFormDeepLayout\nFormLayout.useFormShallowLayout = useFormShallowLayout\nFormLayout.useFormLayout = useFormLayout\n\nexport default FormLayout\n"]}
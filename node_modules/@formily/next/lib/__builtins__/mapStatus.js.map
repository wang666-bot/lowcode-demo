{"version":3,"file":"mapStatus.js","sourceRoot":"","sources":["../../src/__builtins__/mapStatus.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEO,IAAM,SAAS,GAAG,UAAC,KAAU,EAAE,KAAY;IAChD,IAAM,UAAU,GAAG;;QACjB,IAAI,CAAC,KAAK;YAAE,OAAM;QAClB,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,UAAU;YAAE,OAAO,SAAS,CAAA;QACvD,IAAI,MAAA,KAAK,CAAC,UAAU,0CAAE,MAAM;YAAE,OAAO,OAAO,CAAA;QAC5C,IAAI,MAAA,KAAK,CAAC,YAAY,0CAAE,MAAM;YAAE,OAAO,SAAS,CAAA;QAChD,OAAO,MAAA,KAAK,CAAC,cAAc,0CAAE,cAAc,CAAA;IAC7C,CAAC,CAAA;IACD,IAAM,SAAS,GAAG,UAAC,KAAa;QAC9B,IAAI,KAAK,KAAK,YAAY,IAAI,KAAK,KAAK,SAAS;YAAE,OAAO,SAAS,CAAA;QACnE,OAAO,KAAK,CAAA;IACd,CAAC,CAAA;IACD,6BACK,KAAK,KACR,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,UAAU,EAAE,IAC9C;AACH,CAAC,CAAA;AAhBY,QAAA,SAAS,aAgBrB","sourcesContent":["import { Field } from '@formily/core'\n\nexport const mapStatus = (props: any, field: Field) => {\n  const takeStatus = () => {\n    if (!field) return\n    if (field.loading || field.validating) return 'loading'\n    if (field.selfErrors?.length) return 'error'\n    if (field.selfWarnings?.length) return 'warning'\n    return field.decoratorProps?.feedbackStatus\n  }\n  const takeState = (state: string) => {\n    if (state === 'validating' || state === 'pending') return 'loading'\n    return state\n  }\n  return {\n    ...props,\n    state: takeState(props.state) || takeStatus(),\n  }\n}\n"]}
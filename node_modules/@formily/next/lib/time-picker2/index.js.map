{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/time-picker2/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,wCAAiE;AACjE,oCAA4D;AAK5D,gDAA6C;AAC7C,+CAKwB;AAMxB,IAAM,aAAa,GAAG;IACpB,OAAO,UAAC,KAAU;QAChB,IAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAA;QAC5C,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAA;QAC/B,6BACK,KAAK,KACR,MAAM,QAAA,EACN,KAAK,EAAE,IAAA,wBAAU,EAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,EACtC,QAAQ,EAAE,UAAC,KAAsC;gBAC/C,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,IAAA,+BAAiB,EAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAA;iBAC3C;YACH,CAAC,IACF;IACH,CAAC,CAAA;AACH,CAAC,CAAA;AAEY,QAAA,WAAW,GAAuB,IAAA,eAAO,EACpD,kBAAe,EACf,IAAA,gBAAQ,EAAC,aAAa,EAAE,EAAE,qBAAO,EAAE,uBAAS,CAAC,EAC7C,IAAA,qBAAa,EAAC,0BAAW,CAAC,WAAW,CAAC,CACvC,CAAA;AAED,mBAAW,CAAC,WAAW,GAAG,IAAA,eAAO,EAC/B,kBAAe,CAAC,WAAW,EAC3B,IAAA,gBAAQ,EAAC,aAAa,EAAE,EAAE,qBAAO,EAAE,uBAAS,CAAC,EAC7C,IAAA,qBAAa,EAAC,0BAAW,CAAC,gBAAgB,CAAC,CAC5C,CAAA;AAED,kBAAe,mBAAW,CAAA","sourcesContent":["import moment from 'moment'\nimport { connect, mapProps, mapReadPretty } from '@formily/react'\nimport { TimePicker2 as NextTimePicker2 } from '@alifd/next'\nimport {\n  TimePickerProps,\n  RangePickerProps,\n} from '@alifd/next/types/time-picker2'\nimport { PreviewText } from '../preview-text'\nimport {\n  formatMomentValue,\n  momentable,\n  mapSize,\n  mapStatus,\n} from '../__builtins__'\n\ntype ComposedTimePicker = React.FC<React.PropsWithChildren<TimePickerProps>> & {\n  RangePicker?: React.FC<React.PropsWithChildren<RangePickerProps>>\n}\n\nconst mapTimeFormat = function () {\n  return (props: any) => {\n    const format = props['format'] || 'HH:mm:ss'\n    const onChange = props.onChange\n    return {\n      ...props,\n      format,\n      value: momentable(props.value, format),\n      onChange: (value: moment.Moment | moment.Moment[]) => {\n        if (onChange) {\n          onChange(formatMomentValue(value, format))\n        }\n      },\n    }\n  }\n}\n\nexport const TimePicker2: ComposedTimePicker = connect(\n  NextTimePicker2,\n  mapProps(mapTimeFormat(), mapSize, mapStatus),\n  mapReadPretty(PreviewText.TimePicker2)\n)\n\nTimePicker2.RangePicker = connect(\n  NextTimePicker2.RangePicker,\n  mapProps(mapTimeFormat(), mapSize, mapStatus),\n  mapReadPretty(PreviewText.TimeRangePicker2)\n)\n\nexport default TimePicker2\n"]}
{"version":3,"file":"moment.js","sourceRoot":"","sources":["../../src/__builtins__/moment.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,iBAAiB,CAAA;AACtD,OAAO,MAAM,MAAM,QAAQ,CAAA;AAE3B,IAAM,MAAM,GAAG,UAAC,IAAS,EAAE,MAAe;IACxC,OAAO,MAAM,CAAC,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,EAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;AAC5D,CAAC,CAAA;AAED,MAAM,CAAC,IAAM,UAAU,GAAG,UAAC,KAAU,EAAE,MAAe;IACpD,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QACzB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,GAAG,IAAK,OAAA,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,EAAnB,CAAmB,CAAC;QACzC,CAAC,CAAC,KAAK;YACP,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC;YACvB,CAAC,CAAC,KAAK,CAAA;AACX,CAAC,CAAA;AAED,MAAM,CAAC,IAAM,iBAAiB,GAAG,UAC/B,KAAU,EACV,MAAW,EACX,WAAoB;IAEpB,IAAM,UAAU,GAAG,UAAC,IAAS,EAAE,MAAW,EAAE,CAAK;QAAL,kBAAA,EAAA,KAAK;QAC/C,IAAI,CAAC,IAAI;YAAE,OAAO,WAAW,CAAA;QAC7B,IAAM,QAAQ,GAAG,wCAAwC,CAAA;QACzD,IAAI,OAAO,GAAG,MAAM,CAAA;QACpB,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE;YACjB,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;SACpB;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE;YACjB,OAAO,OAAO,CAAC,IAAI,CAAC,CAAA;SACrB;QACD,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACpB,OAAO,IAAI,CAAA;SACZ;QACD,+BAA+B;QAC/B,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACvB,OAAO,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;SAC7C;QACD,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;IACrC,CAAC,CAAA;IACD,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;QAChB,OAAO,KAAK,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK;YAC1B,OAAO,UAAU,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,CAAC,CAAA;QACvC,CAAC,CAAC,CAAA;KACH;SAAM;QACL,OAAO,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,WAAW,CAAA;KAChE;AACH,CAAC,CAAA","sourcesContent":["import { isArr, isEmpty, isFn } from '@formily/shared'\nimport Moment from 'moment'\n\nconst moment = (date: any, format?: string) => {\n  return Moment(date?.toDate ? date.toDate() : date, format)\n}\n\nexport const momentable = (value: any, format?: string) => {\n  return Array.isArray(value)\n    ? value.map((val) => moment(val, format))\n    : value\n    ? moment(value, format)\n    : value\n}\n\nexport const formatMomentValue = (\n  value: any,\n  format: any,\n  placeholder?: string\n): string | string[] => {\n  const formatDate = (date: any, format: any, i = 0) => {\n    if (!date) return placeholder\n    const TIME_REG = /^(?:[01]\\d|2[0-3]):[0-5]\\d(:[0-5]\\d)?$/\n    let _format = format\n    if (isArr(format)) {\n      _format = format[i]\n    }\n    if (isFn(_format)) {\n      return _format(date)\n    }\n    if (isEmpty(_format)) {\n      return date\n    }\n    // moment '19:55:22' 下需要传入第二个参数\n    if (TIME_REG.test(date)) {\n      return moment(date, _format).format(_format)\n    }\n    return moment(date).format(_format)\n  }\n  if (isArr(value)) {\n    return value.map((val, index) => {\n      return formatDate(val, format, index)\n    })\n  } else {\n    return value ? formatDate(value, format) : value || placeholder\n  }\n}\n"]}
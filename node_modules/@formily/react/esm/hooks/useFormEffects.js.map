{"version":3,"file":"useFormEffects.js","sourceRoot":"","sources":["../../src/hooks/useFormEffects.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,yBAAyB,EAAE,MAAM,yBAAyB,CAAA;AAEnE,OAAO,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAA;AACrC,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAA;AAEnC,MAAM,CAAC,IAAM,cAAc,GAAG,UAAC,OAA8B;IAC3D,IAAM,IAAI,GAAG,OAAO,EAAE,CAAA;IACtB,yBAAyB,CAAC;QACxB,IAAM,EAAE,GAAG,GAAG,EAAE,CAAA;QAChB,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAA;QAC5B,OAAO;YACL,OAAO;gBACL,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACxB,CAAC;SACF,CAAA;IACH,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA","sourcesContent":["import { unstable_useCompatFactory } from '@formily/reactive-react'\nimport { Form } from '@formily/core'\nimport { uid } from '@formily/shared'\nimport { useForm } from './useForm'\n\nexport const useFormEffects = (effects?: (form: Form) => void) => {\n  const form = useForm()\n  unstable_useCompatFactory(() => {\n    const id = uid()\n    form.addEffects(id, effects)\n    return {\n      dispose() {\n        form.removeEffects(id)\n      },\n    }\n  })\n}\n"]}
{"version":3,"file":"context.js","sourceRoot":"","sources":["../../src/shared/context.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,aAAa,EAAE,MAAM,OAAO,CAAA;AAQ5C,IAAM,oBAAoB,GAAG;IAAI,kBAA+B;SAA/B,UAA+B,EAA/B,qBAA+B,EAA/B,IAA+B;QAA/B,6BAA+B;;IAC9D,OAAO,UAAC,EAAY;YAAV,QAAQ,cAAA;QAChB,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;YAC9B,OAAO,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,GAAG,CAAC,CAAA;QACrE,CAAC,EAAE,QAAQ,CAAC,CAAA;IACd,CAAC,CAAA;AACH,CAAC,CAAA;AAED,MAAM,CAAC,IAAM,WAAW,GAAG,aAAa,CAAO,IAAI,CAAC,CAAA;AACpD,MAAM,CAAC,IAAM,YAAY,GAAG,aAAa,CAAe,IAAI,CAAC,CAAA;AAC7D,MAAM,CAAC,IAAM,mBAAmB,GAAG,aAAa,CAAS,IAAI,CAAC,CAAA;AAC9D,MAAM,CAAC,IAAM,aAAa,GAAG,aAAa,CAAS,IAAI,CAAC,CAAA;AACxD,MAAM,CAAC,IAAM,4BAA4B,GAAG,aAAa,CAAM,IAAI,CAAC,CAAA;AACpE,MAAM,CAAC,IAAM,uBAAuB,GAClC,aAAa,CAAwB,IAAI,CAAC,CAAA;AAC5C,MAAM,CAAC,IAAM,oBAAoB,GAC/B,aAAa,CAAkC,IAAI,CAAC,CAAA;AAEtD,MAAM,CAAC,IAAM,cAAc,GAAG,oBAAoB,CAChD,YAAY,EACZ,mBAAmB,EACnB,aAAa,EACb,4BAA4B,EAC5B,uBAAuB,EACvB,oBAAoB,CACrB,CAAA","sourcesContent":["import React, { createContext } from 'react'\nimport { Form, GeneralField } from '@formily/core'\nimport { Schema } from '@formily/json-schema'\nimport {\n  ISchemaFieldReactFactoryOptions,\n  SchemaReactComponents,\n} from '../types'\n\nconst createContextCleaner = <T>(...contexts: React.Context<T>[]) => {\n  return ({ children }) => {\n    return contexts.reduce((buf, ctx) => {\n      return React.createElement(ctx.Provider, { value: undefined }, buf)\n    }, children)\n  }\n}\n\nexport const FormContext = createContext<Form>(null)\nexport const FieldContext = createContext<GeneralField>(null)\nexport const SchemaMarkupContext = createContext<Schema>(null)\nexport const SchemaContext = createContext<Schema>(null)\nexport const SchemaExpressionScopeContext = createContext<any>(null)\nexport const SchemaComponentsContext =\n  createContext<SchemaReactComponents>(null)\nexport const SchemaOptionsContext =\n  createContext<ISchemaFieldReactFactoryOptions>(null)\n\nexport const ContextCleaner = createContextCleaner(\n  FieldContext,\n  SchemaMarkupContext,\n  SchemaContext,\n  SchemaExpressionScopeContext,\n  SchemaComponentsContext,\n  SchemaOptionsContext\n)\n"]}
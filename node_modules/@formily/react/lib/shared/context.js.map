{"version":3,"file":"context.js","sourceRoot":"","sources":["../../src/shared/context.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAA4C;AAQ5C,IAAM,oBAAoB,GAAG;IAAI,kBAA+B;SAA/B,UAA+B,EAA/B,qBAA+B,EAA/B,IAA+B;QAA/B,6BAA+B;;IAC9D,OAAO,UAAC,EAAY;YAAV,QAAQ,cAAA;QAChB,OAAO,QAAQ,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;YAC9B,OAAO,eAAK,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,GAAG,CAAC,CAAA;QACrE,CAAC,EAAE,QAAQ,CAAC,CAAA;IACd,CAAC,CAAA;AACH,CAAC,CAAA;AAEY,QAAA,WAAW,GAAG,IAAA,qBAAa,EAAO,IAAI,CAAC,CAAA;AACvC,QAAA,YAAY,GAAG,IAAA,qBAAa,EAAe,IAAI,CAAC,CAAA;AAChD,QAAA,mBAAmB,GAAG,IAAA,qBAAa,EAAS,IAAI,CAAC,CAAA;AACjD,QAAA,aAAa,GAAG,IAAA,qBAAa,EAAS,IAAI,CAAC,CAAA;AAC3C,QAAA,4BAA4B,GAAG,IAAA,qBAAa,EAAM,IAAI,CAAC,CAAA;AACvD,QAAA,uBAAuB,GAClC,IAAA,qBAAa,EAAwB,IAAI,CAAC,CAAA;AAC/B,QAAA,oBAAoB,GAC/B,IAAA,qBAAa,EAAkC,IAAI,CAAC,CAAA;AAEzC,QAAA,cAAc,GAAG,oBAAoB,CAChD,oBAAY,EACZ,2BAAmB,EACnB,qBAAa,EACb,oCAA4B,EAC5B,+BAAuB,EACvB,4BAAoB,CACrB,CAAA","sourcesContent":["import React, { createContext } from 'react'\nimport { Form, GeneralField } from '@formily/core'\nimport { Schema } from '@formily/json-schema'\nimport {\n  ISchemaFieldReactFactoryOptions,\n  SchemaReactComponents,\n} from '../types'\n\nconst createContextCleaner = <T>(...contexts: React.Context<T>[]) => {\n  return ({ children }) => {\n    return contexts.reduce((buf, ctx) => {\n      return React.createElement(ctx.Provider, { value: undefined }, buf)\n    }, children)\n  }\n}\n\nexport const FormContext = createContext<Form>(null)\nexport const FieldContext = createContext<GeneralField>(null)\nexport const SchemaMarkupContext = createContext<Schema>(null)\nexport const SchemaContext = createContext<Schema>(null)\nexport const SchemaExpressionScopeContext = createContext<any>(null)\nexport const SchemaComponentsContext =\n  createContext<SchemaReactComponents>(null)\nexport const SchemaOptionsContext =\n  createContext<ISchemaFieldReactFactoryOptions>(null)\n\nexport const ContextCleaner = createContextCleaner(\n  FieldContext,\n  SchemaMarkupContext,\n  SchemaContext,\n  SchemaExpressionScopeContext,\n  SchemaComponentsContext,\n  SchemaOptionsContext\n)\n"]}
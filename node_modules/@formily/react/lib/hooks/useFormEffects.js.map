{"version":3,"file":"useFormEffects.js","sourceRoot":"","sources":["../../src/hooks/useFormEffects.ts"],"names":[],"mappings":";;;AAAA,0DAAmE;AAEnE,0CAAqC;AACrC,qCAAmC;AAE5B,IAAM,cAAc,GAAG,UAAC,OAA8B;IAC3D,IAAM,IAAI,GAAG,IAAA,iBAAO,GAAE,CAAA;IACtB,IAAA,0CAAyB,EAAC;QACxB,IAAM,EAAE,GAAG,IAAA,YAAG,GAAE,CAAA;QAChB,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAA;QAC5B,OAAO;YACL,OAAO;gBACL,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;YACxB,CAAC;SACF,CAAA;IACH,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA;AAXY,QAAA,cAAc,kBAW1B","sourcesContent":["import { unstable_useCompatFactory } from '@formily/reactive-react'\nimport { Form } from '@formily/core'\nimport { uid } from '@formily/shared'\nimport { useForm } from './useForm'\n\nexport const useFormEffects = (effects?: (form: Form) => void) => {\n  const form = useForm()\n  unstable_useCompatFactory(() => {\n    const id = uid()\n    form.addEffects(id, effects)\n    return {\n      dispose() {\n        form.removeEffects(id)\n      },\n    }\n  })\n}\n"]}
{"version":3,"file":"immediate.js","sourceRoot":"","sources":["../../src/shared/immediate.ts"],"names":[],"mappings":";;;AAAO,IAAM,SAAS,GAAG,UAAC,QAAqB;IAC7C,IAAI,QAAQ,GAAG,KAAK,CAAA;IACpB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACtB,IAAI,QAAQ,EAAE;YACZ,QAAQ,GAAG,KAAK,CAAA;YAChB,OAAM;SACP;QACD,QAAQ,EAAE,CAAA;IACZ,CAAC,CAAC,CAAA;IACF,OAAO;QACL,QAAQ,GAAG,IAAI,CAAA;IACjB,CAAC,CAAA;AACH,CAAC,CAAA;AAZY,QAAA,SAAS,aAYrB","sourcesContent":["export const immediate = (callback?: () => void) => {\n  let disposed = false\n  Promise.resolve(0).then(() => {\n    if (disposed) {\n      disposed = false\n      return\n    }\n    callback()\n  })\n  return () => {\n    disposed = true\n  }\n}\n"]}
{"version":3,"file":"formily.path.umd.development.js","sources":["../src/contexts.ts","../src/tokens.ts","../src/tokenizer.ts","../src/types.ts","../src/shared.ts","../src/destructor.ts","../src/parser.ts","../src/matcher.ts","../src/index.ts"],"sourcesContent":["export type Context = {\n  flag: string\n  [key: string]: any\n}\n\nconst ContextType = (flag: string, props?: any): Context => {\n  return {\n    flag,\n    ...props,\n  }\n}\n\nexport const bracketContext = ContextType('[]')\n\nexport const bracketArrayContext = ContextType('[\\\\d]')\n\nexport const bracketDContext = ContextType('[[]]')\n\nexport const parenContext = ContextType('()')\n\nexport const braceContext = ContextType('{}')\n\nexport const destructorContext = ContextType('{x}')\n","import {\n  bracketContext,\n  parenContext,\n  bracketArrayContext,\n  bracketDContext,\n  braceContext,\n  destructorContext,\n} from './contexts'\n\ninterface ITokenProps {\n  expectNext?: (next?: Token) => boolean\n  expectPrev?: (prev?: Token) => boolean\n  updateContext?: (prev?: Token) => void\n}\n\nexport type Token = ITokenProps & {\n  flag: string\n}\n\nconst TokenType = (flag: string, props?: ITokenProps): Token => {\n  return {\n    flag,\n    ...props,\n  }\n}\n\nexport const nameTok = TokenType('name', {\n  expectNext(next) {\n    if (this.includesContext(destructorContext)) {\n      return (\n        next === nameTok ||\n        next === commaTok ||\n        next === bracketRTok ||\n        next === braceRTok ||\n        next === colonTok\n      )\n    }\n    return (\n      next === dotTok ||\n      next === commaTok ||\n      next === eofTok ||\n      next === bracketRTok ||\n      next === parenRTok ||\n      next === colonTok ||\n      next === expandTok ||\n      next === bracketLTok\n    )\n  },\n})\nexport const starTok = TokenType('*', {\n  expectNext(next) {\n    return (\n      next === dotTok ||\n      next === parenLTok ||\n      next === bracketLTok ||\n      next === eofTok ||\n      next === commaTok ||\n      next === parenRTok\n    )\n  },\n})\nexport const dbStarTok = TokenType('**', {\n  expectNext(next) {\n    return (\n      next === dotTok ||\n      next === bracketLTok ||\n      next === eofTok ||\n      next === commaTok ||\n      next === parenRTok\n    )\n  },\n})\nexport const dotTok = TokenType('.', {\n  expectNext(next) {\n    return (\n      next === dotTok ||\n      next === nameTok ||\n      next === bracketDLTok ||\n      next === starTok ||\n      next === dbStarTok ||\n      next === bracketLTok ||\n      next === braceLTok ||\n      next === eofTok\n    )\n  },\n  expectPrev(prev) {\n    return (\n      prev === dotTok ||\n      prev === nameTok ||\n      prev === bracketDRTok ||\n      prev === starTok ||\n      prev === parenRTok ||\n      prev === bracketRTok ||\n      prev === expandTok ||\n      prev === braceRTok\n    )\n  },\n})\nexport const bangTok = TokenType('!', {\n  expectNext(next) {\n    return next === nameTok || next === bracketDLTok\n  },\n})\nexport const colonTok = TokenType(':', {\n  expectNext(next) {\n    if (this.includesContext(destructorContext)) {\n      return next === nameTok || next === braceLTok || next === bracketLTok\n    }\n    return next === nameTok || next === bracketDLTok || next === bracketRTok\n  },\n})\n\nexport const braceLTok = TokenType('{', {\n  expectNext(next) {\n    return next === nameTok\n  },\n  expectPrev(prev) {\n    if (this.includesContext(destructorContext)) {\n      return prev === colonTok || prev === commaTok || prev === bracketLTok\n    }\n    return prev === dotTok || prev === colonTok || prev === parenLTok\n  },\n  updateContext() {\n    this.state.context.push(braceContext)\n  },\n})\n\nexport const braceRTok = TokenType('}', {\n  expectNext(next) {\n    if (this.includesContext(destructorContext)) {\n      return (\n        next === commaTok ||\n        next === braceRTok ||\n        next === eofTok ||\n        next === bracketRTok\n      )\n    }\n    return next === dotTok || next === eofTok || next === commaTok\n  },\n  expectPrev(prev) {\n    return prev === nameTok || prev === braceRTok || prev === bracketRTok\n  },\n  updateContext() {\n    this.state.context.pop(braceContext)\n  },\n})\n\nexport const bracketLTok = TokenType('[', {\n  expectNext(next) {\n    if (this.includesContext(destructorContext)) {\n      return (\n        next === nameTok ||\n        next === bracketLTok ||\n        next === braceLTok ||\n        next === bracketRTok\n      )\n    }\n    return (\n      next === nameTok ||\n      next === bracketDLTok ||\n      next === colonTok ||\n      next === bracketLTok ||\n      next === ignoreTok ||\n      next === bracketRTok\n    )\n  },\n  expectPrev(prev) {\n    if (this.includesContext(destructorContext)) {\n      return prev === colonTok || prev === commaTok || prev === bracketLTok\n    }\n    return (\n      prev === starTok ||\n      prev === bracketLTok ||\n      prev === dotTok ||\n      prev === nameTok ||\n      prev === parenLTok ||\n      // never reach\n      prev == commaTok\n    )\n  },\n  updateContext() {\n    this.state.context.push(bracketContext)\n  },\n})\n\nexport const bracketRTok = TokenType(']', {\n  expectNext(next) {\n    if (this.includesContext(destructorContext)) {\n      return (\n        next === commaTok ||\n        next === braceRTok ||\n        next === bracketRTok ||\n        next === eofTok\n      )\n    }\n    return (\n      next === dotTok ||\n      next === eofTok ||\n      next === commaTok ||\n      next === parenRTok ||\n      next === bracketRTok\n    )\n  },\n  updateContext() {\n    if (this.includesContext(bracketArrayContext)) return\n    if (!this.includesContext(bracketContext)) throw this.unexpect()\n    this.state.context.pop()\n  },\n})\n\nexport const bracketDLTok = TokenType('[[', {\n  updateContext() {\n    this.state.context.push(bracketDContext)\n  },\n})\n\nexport const bracketDRTok = TokenType(']]', {\n  updateContext() {\n    if (this.curContext() !== bracketDContext) throw this.unexpect()\n    this.state.context.pop()\n  },\n})\n\nexport const parenLTok = TokenType('(', {\n  expectNext(next) {\n    return (\n      next === nameTok ||\n      next === bracketDLTok ||\n      next === braceLTok ||\n      next === bangTok ||\n      next === bracketLTok\n    )\n  },\n  expectPrev(prev) {\n    return prev === starTok\n  },\n  updateContext() {\n    this.state.context.push(parenContext)\n  },\n})\nexport const parenRTok = TokenType(')', {\n  expectNext(next) {\n    return (\n      next === dotTok ||\n      next === eofTok ||\n      next === commaTok ||\n      next === parenRTok\n    )\n  },\n  updateContext() {\n    if (this.curContext() !== parenContext) throw this.unexpect()\n    this.state.context.pop()\n  },\n})\n\nexport const commaTok = TokenType(',', {\n  expectNext(next) {\n    return (\n      next === nameTok ||\n      next === bracketDLTok ||\n      next === bracketLTok ||\n      next === braceLTok\n    )\n  },\n})\nexport const ignoreTok = TokenType('ignore', {\n  expectNext(next) {\n    return next === bracketDRTok\n  },\n  expectPrev(prev) {\n    return prev == bracketDLTok\n  },\n})\n\nexport const expandTok = TokenType('expandTok', {\n  expectNext(next) {\n    return (\n      next === dotTok ||\n      next === eofTok ||\n      next === commaTok ||\n      next === parenRTok\n    )\n  },\n})\n\nexport const eofTok = TokenType('eof')\n","import {\n  Token,\n  nameTok,\n  colonTok,\n  dotTok,\n  starTok,\n  dbStarTok,\n  bangTok,\n  bracketLTok,\n  bracketRTok,\n  bracketDRTok,\n  expandTok,\n  parenLTok,\n  parenRTok,\n  commaTok,\n  eofTok,\n  ignoreTok,\n  braceLTok,\n  braceRTok,\n  bracketDLTok,\n} from './tokens'\nimport { bracketDContext, Context } from './contexts'\n\nconst nonASCIIWhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/\n\nconst fullCharCodeAtPos = (input: string, pos: number) => {\n  if (String.fromCharCode) return input.codePointAt(pos)\n  const code = input.charCodeAt(pos)\n  if (code <= 0xd7ff || code >= 0xe000) return code\n\n  const next = input.charCodeAt(pos + 1)\n  return (code << 10) + next - 0x35fdc00\n}\n\nconst isRewordCode = (code: number) =>\n  code === 42 ||\n  code === 46 ||\n  code === 33 ||\n  code === 91 ||\n  code === 93 ||\n  code === 40 ||\n  code === 41 ||\n  code === 44 ||\n  code === 58 ||\n  code === 126 ||\n  code === 123 ||\n  code === 125\n\nconst getError = (message?: string, props?: any) => {\n  const err = new Error(message)\n  Object.assign(err, props)\n  return err\n}\n\nconst slice = (string: string, start: number, end: number) => {\n  let str = ''\n  for (let i = start; i < end; i++) {\n    const ch = string.charAt(i)\n    if (ch !== '\\\\') {\n      str += ch\n    }\n  }\n  return str\n}\n\nexport class Tokenizer {\n  public input: string\n  public state: {\n    context: Context[]\n    type: Token\n    pos: number\n    value?: any\n  }\n  public type_: Token\n  constructor(input: string) {\n    this.input = input\n    this.state = {\n      context: [],\n      type: null,\n      pos: 0,\n    }\n    this.type_ = null\n  }\n\n  curContext() {\n    return this.state.context[this.state.context.length - 1]\n  }\n\n  includesContext(context: Context) {\n    for (let len = this.state.context.length - 1; len >= 0; len--) {\n      if (this.state.context[len] === context) {\n        return true\n      }\n    }\n    return false\n  }\n\n  unexpect(type?: Token) {\n    type = type || this.state.type\n    return getError(\n      `Unexpect token \"${type.flag}\" in ${this.state.pos} char.`,\n      {\n        pos: this.state.pos,\n      }\n    )\n  }\n\n  expectNext(type?: Token, next?: Token) {\n    if (type && type.expectNext) {\n      if (next && !type.expectNext.call(this, next)) {\n        throw getError(\n          `Unexpect token \"${next.flag}\" token should not be behind \"${type.flag}\" token.(${this.state.pos}th char)`,\n          {\n            pos: this.state.pos,\n          }\n        )\n      }\n    }\n  }\n\n  expectPrev(type?: Token, prev?: Token) {\n    if (type && type.expectPrev) {\n      if (prev && !type.expectPrev.call(this, prev)) {\n        throw getError(\n          `Unexpect token \"${type.flag}\" should not be behind \"${prev.flag}\"(${this.state.pos}th char).`,\n          {\n            pos: this.state.pos,\n          }\n        )\n      }\n    }\n  }\n\n  match(type?: Token) {\n    return this.state.type === type\n  }\n\n  skipSpace() {\n    if (this.curContext() === bracketDContext) return\n    loop: while (this.state.pos < this.input.length) {\n      const ch = this.input.charCodeAt(this.state.pos)\n      switch (ch) {\n        case 32:\n        case 160:\n          ++this.state.pos\n          break\n\n        case 13:\n          if (this.input.charCodeAt(this.state.pos + 1) === 10) {\n            ++this.state.pos\n          }\n\n        case 10:\n        case 8232:\n        case 8233:\n          ++this.state.pos\n          break\n        default:\n          if (\n            (ch > 8 && ch < 14) ||\n            (ch >= 5760 && nonASCIIWhitespace.test(String.fromCharCode(ch)))\n          ) {\n            ++this.state.pos\n          } else {\n            break loop\n          }\n      }\n    }\n  }\n\n  next() {\n    this.type_ = this.state.type\n    if (this.input.length <= this.state.pos) {\n      return this.finishToken(eofTok)\n    }\n    this.skipSpace()\n    this.readToken(\n      this.getCode(),\n      this.state.pos > 0 ? this.getCode(this.state.pos - 1) : -Infinity\n    )\n  }\n\n  getCode(pos = this.state.pos) {\n    return fullCharCodeAtPos(this.input, pos)\n  }\n\n  eat(type) {\n    if (this.match(type)) {\n      this.next()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  readKeyWord() {\n    let startPos = this.state.pos,\n      string = ''\n    while (true) {\n      const code = this.getCode()\n      const prevCode = this.getCode(this.state.pos - 1)\n      if (this.input.length === this.state.pos) {\n        string = slice(this.input, startPos, this.state.pos + 1)\n        break\n      }\n      if (!isRewordCode(code) || prevCode === 92) {\n        if (\n          code === 32 ||\n          code === 160 ||\n          code === 10 ||\n          code === 8232 ||\n          code === 8233\n        ) {\n          string = slice(this.input, startPos, this.state.pos)\n          break\n        }\n        if (code === 13 && this.input.charCodeAt(this.state.pos + 1) === 10) {\n          string = slice(this.input, startPos, this.state.pos)\n          break\n        }\n        if (\n          (code > 8 && code < 14) ||\n          (code >= 5760 && nonASCIIWhitespace.test(String.fromCharCode(code)))\n        ) {\n          string = slice(this.input, startPos, this.state.pos)\n          break\n        }\n        this.state.pos++\n      } else {\n        string = slice(this.input, startPos, this.state.pos)\n        break\n      }\n    }\n\n    this.finishToken(nameTok, string)\n  }\n\n  readIgnoreString() {\n    let startPos = this.state.pos,\n      prevCode,\n      string = ''\n    while (true) {\n      const code = this.getCode()\n      if (this.state.pos >= this.input.length) break\n      if ((code === 91 || code === 93) && prevCode === 92) {\n        this.state.pos++\n        prevCode = ''\n      } else if (code == 93 && prevCode === 93) {\n        string = this.input\n          .slice(startPos, this.state.pos - 1)\n          .replace(/\\\\([\\[\\]])/g, '$1')\n        this.state.pos++\n        break\n      } else {\n        this.state.pos++\n        prevCode = code\n      }\n    }\n\n    this.finishToken(ignoreTok, string)\n    this.finishToken(bracketDRTok)\n  }\n\n  finishToken(type: Token, value?: any) {\n    const preType = this.state.type\n    this.state.type = type\n    if (value !== undefined) this.state.value = value\n    this.expectNext(preType, type)\n    this.expectPrev(type, preType)\n    if (type.updateContext) {\n      type.updateContext.call(this, preType)\n    }\n  }\n\n  readToken(code: number, prevCode: number) {\n    if (prevCode === 92) {\n      return this.readKeyWord()\n    }\n    if (this.input.length <= this.state.pos) {\n      this.finishToken(eofTok)\n    } else if (this.curContext() === bracketDContext) {\n      this.readIgnoreString()\n    } else if (code === 123) {\n      this.state.pos++\n      this.finishToken(braceLTok)\n    } else if (code === 125) {\n      this.state.pos++\n      this.finishToken(braceRTok)\n    } else if (code === 42) {\n      this.state.pos++\n      if (this.getCode() === 42) {\n        this.state.pos++\n        return this.finishToken(dbStarTok)\n      }\n      this.finishToken(starTok)\n    } else if (code === 33) {\n      this.state.pos++\n      this.finishToken(bangTok)\n    } else if (code === 46) {\n      this.state.pos++\n      this.finishToken(dotTok)\n    } else if (code === 91) {\n      this.state.pos++\n      if (this.getCode() === 91) {\n        this.state.pos++\n        return this.finishToken(bracketDLTok)\n      }\n      this.finishToken(bracketLTok)\n    } else if (code === 126) {\n      this.state.pos++\n      this.finishToken(expandTok)\n    } else if (code === 93) {\n      this.state.pos++\n      this.finishToken(bracketRTok)\n    } else if (code === 40) {\n      this.state.pos++\n      this.finishToken(parenLTok)\n    } else if (code === 41) {\n      this.state.pos++\n      this.finishToken(parenRTok)\n    } else if (code === 44) {\n      this.state.pos++\n      this.finishToken(commaTok)\n    } else if (code === 58) {\n      this.state.pos++\n      this.finishToken(colonTok)\n    } else {\n      this.readKeyWord()\n    }\n  }\n}\n","import { Path } from './index'\ninterface INode {\n  type?: string\n  after?: Node\n  depth?: number\n}\n\nexport type Node =\n  | IdentifierNode\n  | WildcardOperatorNode\n  | GroupExpressionNode\n  | RangeExpressionNode\n  | DestructorExpressionNode\n  | ObjectPatternNode\n  | ArrayPatternNode\n  | DotOperatorNode\n  | ExpandOperatorNode\n  | INode\n\nexport type IdentifierNode = {\n  type: 'Identifier'\n  value: string\n  arrayIndex?: boolean\n} & INode\n\nexport type IgnoreExpressionNode = {\n  type: 'IgnoreExpression'\n  value: string\n} & INode\n\nexport type DotOperatorNode = {\n  type: 'DotOperator'\n} & INode\n\nexport type WildcardOperatorNode = {\n  type: 'WildcardOperator'\n  filter?: GroupExpressionNode | RangeExpressionNode\n  optional?: boolean\n} & INode\n\nexport type ExpandOperatorNode = {\n  type: 'ExpandOperator'\n} & INode\n\nexport type GroupExpressionNode = {\n  type: 'GroupExpression'\n  value: Node[]\n  isExclude?: boolean\n} & INode\n\nexport type RangeExpressionNode = {\n  type: 'RangeExpression'\n  start?: IdentifierNode\n  end?: IdentifierNode\n} & INode\n\nexport type DestructorExpressionNode = {\n  type: 'DestructorExpression'\n  value?: ObjectPatternNode | ArrayPatternNode\n  source?: string\n} & INode\n\nexport type ObjectPatternNode = {\n  type: 'ObjectPattern'\n  properties: ObjectPatternPropertyNode[]\n} & INode\n\nexport type ObjectPatternPropertyNode = {\n  type: 'ObjectPatternProperty'\n  key: IdentifierNode\n  value?: ObjectPatternNode[] | ArrayPatternNode[] | IdentifierNode\n} & INode\n\nexport type ArrayPatternNode = {\n  type: 'ArrayPattern'\n  elements: ObjectPatternNode[] | ArrayPatternNode[] | IdentifierNode[]\n} & INode\n\nexport type DestructorRule = {\n  key?: string | number\n  path?: Array<number | string>\n}\n\nexport type MatcherFunction = ((path: Segments) => boolean) & {\n  path: Path\n}\n\nexport type Pattern =\n  | string\n  | number\n  | Path\n  | Segments\n  | MatcherFunction\n  | RegExp\n\nexport type DestructorRules = DestructorRule[]\n\nexport type Segments = Array<string | number>\n\nexport const isType =\n  <T>(type: string) =>\n  (obj: any): obj is T => {\n    return obj && obj.type === type\n  }\n\nexport const isIdentifier = isType<IdentifierNode>('Identifier')\n\nexport const isIgnoreExpression =\n  isType<IgnoreExpressionNode>('IgnoreExpression')\n\nexport const isDotOperator = isType<DotOperatorNode>('DotOperator')\n\nexport const isWildcardOperator =\n  isType<WildcardOperatorNode>('WildcardOperator')\n\nexport const isExpandOperator = isType<ExpandOperatorNode>('ExpandOperator')\n\nexport const isGroupExpression = isType<GroupExpressionNode>('GroupExpression')\n\nexport const isRangeExpression = isType<RangeExpressionNode>('RangeExpression')\n\nexport const isDestructorExpression = isType<DestructorExpressionNode>(\n  'DestructorExpression'\n)\n\nexport const isObjectPattern = isType<ObjectPatternNode>('ObjectPattern')\n\nexport const isObjectPatternProperty = isType<ObjectPatternPropertyNode>(\n  'ObjectPatternProperty'\n)\n\nexport const isArrayPattern = isType<ArrayPatternNode>('ArrayPattern')\n\nexport type KeyType = string | number | symbol\n\nexport type IAccessors = {\n  get?: (source: any, key: KeyType) => any\n  set?: (source: any, key: KeyType, value: any) => any\n  has?: (source: any, key: KeyType) => boolean\n  delete?: (source: any, key: KeyType) => any\n}\n\nexport type IRegistry = {\n  accessors?: IAccessors\n}\n","const toString = Object.prototype.toString\nconst isType =\n  <T>(type: string) =>\n  (obj: unknown): obj is T =>\n    toString.call(obj) === `[object ${type}]`\nexport const isFn = isType<(...args: any[]) => any>('Function')\nexport const isArr = Array.isArray || isType<unknown[]>('Array')\nexport const isPlainObj = isType<object>('Object')\nexport const isStr = isType<string>('String')\nexport const isBool = isType<boolean>('Boolean')\nexport const isNum = isType<number>('Number')\nexport const isObj = (val: unknown): val is object => typeof val === 'object'\nexport const isRegExp = isType<RegExp>('RegExp')\nexport const isNumberLike = (t: any) => {\n  return isNum(t) || /^(\\d+)(\\.\\d+)?$/.test(t)\n}\nconst isArray = isArr\nconst keyList = Object.keys\nconst hasProp = Object.prototype.hasOwnProperty\n\nexport const toArr = <T>(val: T | T[]): T[] =>\n  Array.isArray(val) ? val : val !== undefined ? [val] : []\nexport const isAssignable = (val: any) => {\n  return typeof val === 'object' || typeof val === 'function'\n}\nexport const isEqual = (a: any, b: any) => {\n  if (a === b) {\n    return true\n  }\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const arrA = isArray(a)\n    const arrB = isArray(b)\n    let i\n    let length\n    let key\n\n    if (arrA && arrB) {\n      length = a.length\n      if (length !== b.length) {\n        return false\n      }\n      for (i = length; i-- !== 0; ) {\n        if (!isEqual(a[i], b[i])) {\n          return false\n        }\n      }\n      return true\n    }\n\n    if (arrA !== arrB) {\n      return false\n    }\n\n    const keys = keyList(a)\n    length = keys.length\n\n    if (length !== keyList(b).length) {\n      return false\n    }\n\n    for (i = length; i-- !== 0; ) {\n      if (!hasProp.call(b, keys[i])) {\n        return false\n      }\n    }\n    for (i = length; i-- !== 0; ) {\n      key = keys[i]\n      if (!isEqual(a[key], b[key])) {\n        return false\n      }\n    }\n\n    return true\n  }\n  return a !== a && b !== b\n}\nexport const isSegmentEqual = (a: any, b: any) => {\n  a = typeof a === 'symbol' ? a : `${a}`\n  b = typeof b === 'symbol' ? b : `${b}`\n  return a === b\n}\n","import {\n  Segments,\n  Node,\n  DestructorRules,\n  isArrayPattern,\n  isObjectPattern,\n  isIdentifier,\n  isDestructorExpression,\n} from './types'\nimport { isNum } from './shared'\n\ntype Mutators = {\n  getIn: (segments: Segments, source: any) => any\n  setIn: (segments: Segments, source: any, value: any) => void\n  deleteIn?: (segments: Segments, source: any) => any\n  existIn?: (segments: Segments, source: any, start: number) => boolean\n}\n\nconst DestructorCache = new Map()\n\nconst isValid = (val: any) => val !== undefined && val !== null\n\nexport const getDestructor = (source: string) => {\n  return DestructorCache.get(source)\n}\n\nexport const setDestructor = (source: string, rules: DestructorRules) => {\n  DestructorCache.set(source, rules)\n}\n\nexport const parseDestructorRules = (node: Node): DestructorRules => {\n  const rules = []\n  if (isObjectPattern(node)) {\n    let index = 0\n    node.properties.forEach((child) => {\n      rules[index] = {\n        path: [],\n      }\n      rules[index].key = child.key.value\n      rules[index].path.push(child.key.value)\n      if (isIdentifier(child.value)) {\n        rules[index].key = child.value.value\n      }\n      const basePath = rules[index].path\n      const childRules = parseDestructorRules(child.value as Node)\n      let k = index\n      childRules.forEach((rule) => {\n        if (rules[k]) {\n          rules[k].key = rule.key\n          rules[k].path = basePath.concat(rule.path)\n        } else {\n          rules[k] = {\n            key: rule.key,\n            path: basePath.concat(rule.path),\n          }\n        }\n        k++\n      })\n      if (k > index) {\n        index = k\n      } else {\n        index++\n      }\n    })\n    return rules\n  } else if (isArrayPattern(node)) {\n    let index = 0\n    node.elements.forEach((child, key) => {\n      rules[index] = {\n        path: [],\n      }\n      rules[index].key = key\n      rules[index].path.push(key)\n      if (isIdentifier(child)) {\n        rules[index].key = child.value\n      }\n      const basePath = rules[index].path\n      const childRules = parseDestructorRules(child as Node)\n      let k = index\n      childRules.forEach((rule) => {\n        if (rules[k]) {\n          rules[k].key = rule.key\n          rules[k].path = basePath.concat(rule.path)\n        } else {\n          rules[k] = {\n            key: rule.key,\n            path: basePath.concat(rule.path),\n          }\n        }\n        k++\n      })\n      if (k > index) {\n        index = k\n      } else {\n        index++\n      }\n    })\n    return rules\n  }\n  if (isDestructorExpression(node)) {\n    return parseDestructorRules(node.value)\n  }\n  return rules\n}\n\nexport const setInByDestructor = (\n  source: any,\n  rules: DestructorRules,\n  value: any,\n  mutators: Mutators\n) => {\n  rules.forEach(({ key, path }) => {\n    mutators.setIn([key], source, mutators.getIn(path, value))\n  })\n}\n\nexport const getInByDestructor = (\n  source: any,\n  rules: DestructorRules,\n  mutators: Mutators\n) => {\n  let response = {}\n  if (rules.length) {\n    if (isNum(rules[0].path[0])) {\n      response = []\n    }\n  }\n  source = isValid(source) ? source : {}\n  rules.forEach(({ key, path }) => {\n    mutators.setIn(path, response, source[key])\n  })\n  return response\n}\n\nexport const deleteInByDestructor = (\n  source: any,\n  rules: DestructorRules,\n  mutators: Mutators\n) => {\n  rules.forEach(({ key }) => {\n    mutators.deleteIn([key], source)\n  })\n}\n\nexport const existInByDestructor = (\n  source: any,\n  rules: DestructorRules,\n  start: number,\n  mutators: Mutators\n) => {\n  return rules.every(({ key }) => {\n    return mutators.existIn([key], source, start)\n  })\n}\n","import { Tokenizer } from './tokenizer'\nimport {\n  Token,\n  nameTok,\n  colonTok,\n  dotTok,\n  starTok,\n  bangTok,\n  bracketLTok,\n  bracketRTok,\n  braceLTok,\n  braceRTok,\n  bracketDLTok,\n  parenLTok,\n  parenRTok,\n  commaTok,\n  expandTok,\n  eofTok,\n  dbStarTok,\n} from './tokens'\nimport { bracketArrayContext, destructorContext } from './contexts'\nimport {\n  IdentifierNode,\n  ExpandOperatorNode,\n  WildcardOperatorNode,\n  RangeExpressionNode,\n  GroupExpressionNode,\n  DotOperatorNode,\n  IgnoreExpressionNode,\n  DestructorExpressionNode,\n  ObjectPatternNode,\n  ObjectPatternPropertyNode,\n  ArrayPatternNode,\n  Node,\n  Segments,\n} from './types'\nimport { parseDestructorRules, setDestructor } from './destructor'\nimport { isNumberLike } from './shared'\nimport { Path } from './index'\n\nconst createTreeBySegments = (segments: Segments = [], afterNode?: Node) => {\n  const segLen = segments.length\n  const build = (start = 0) => {\n    const after = start < segLen - 1 ? build(start + 1) : afterNode\n    const dot = after && {\n      type: 'DotOperator',\n      after,\n    }\n    return {\n      type: 'Identifier',\n      value: segments[start],\n      after: dot,\n    }\n  }\n  return build()\n}\n\nconst calculate = (\n  a: string | number,\n  b: string | number,\n  operator: string\n) => {\n  if (isNumberLike(a) && isNumberLike(b)) {\n    if (operator === '+') return String(Number(a) + Number(b))\n    if (operator === '-') return String(Number(a) - Number(b))\n    if (operator === '*') return String(Number(a) * Number(b))\n    if (operator === '/') return String(Number(a) / Number(b))\n  } else {\n    if (operator === '+') return String(a) + String(b)\n    if (operator === '-') return 'NaN'\n    if (operator === '*') return 'NaN'\n    if (operator === '/') return 'NaN'\n  }\n  return String(Number(b))\n}\n\nexport class Parser extends Tokenizer {\n  public isMatchPattern = false\n\n  public isWildMatchPattern = false\n\n  public haveExcludePattern = false\n\n  public haveRelativePattern = false\n\n  public base: Path\n\n  public relative: string | number\n\n  public data: {\n    segments: Segments\n    tree?: Node\n  }\n\n  constructor(input: string, base?: Path) {\n    super(input)\n    this.base = base\n  }\n\n  parse() {\n    let node: Node\n    this.data = {\n      segments: [],\n    }\n    if (!this.eat(eofTok)) {\n      this.next()\n      node = this.parseAtom(this.state.type)\n    }\n    this.data.tree = node\n\n    return node\n  }\n\n  append(parent: Node, node: Node) {\n    if (parent && node) {\n      parent.after = node\n    }\n  }\n\n  parseAtom(type: Token): Node {\n    switch (type) {\n      case braceLTok:\n      case bracketLTok:\n        if (this.includesContext(destructorContext)) {\n          if (type === braceLTok) {\n            return this.parseObjectPattern()\n          } else {\n            return this.parseArrayPattern()\n          }\n        }\n        return this.parseDestructorExpression()\n      case nameTok:\n        return this.parseIdentifier()\n      case expandTok:\n        return this.parseExpandOperator()\n      case dbStarTok:\n      case starTok:\n        return this.parseWildcardOperator()\n      case bracketDLTok:\n        return this.parseIgnoreExpression()\n      case dotTok:\n        return this.parseDotOperator()\n    }\n  }\n\n  pushSegments(key: string | number) {\n    this.data.segments.push(key)\n  }\n\n  parseIdentifier() {\n    const node: IdentifierNode = {\n      type: 'Identifier',\n      value: this.state.value,\n    }\n    const hasNotInDestructor =\n      !this.includesContext(destructorContext) &&\n      !this.isMatchPattern &&\n      !this.isWildMatchPattern\n\n    this.next()\n    if (this.includesContext(bracketArrayContext)) {\n      if (this.state.type !== bracketRTok) {\n        throw this.unexpect()\n      } else {\n        this.state.context.pop()\n        this.next()\n      }\n    } else if (hasNotInDestructor) {\n      this.pushSegments(node.value)\n    }\n    if (this.state.type === bracketLTok) {\n      this.next()\n      if (this.state.type !== nameTok) {\n        throw this.unexpect()\n      }\n      this.state.context.push(bracketArrayContext)\n      let isNumberKey = false\n      if (/^\\d+$/.test(this.state.value)) {\n        isNumberKey = true\n      }\n      const value = this.state.value\n      this.pushSegments(isNumberKey ? Number(value) : value)\n      const after = this.parseAtom(this.state.type) as IdentifierNode\n      if (isNumberKey) {\n        after.arrayIndex = true\n      }\n      this.append(node, after)\n    } else {\n      this.append(node, this.parseAtom(this.state.type))\n    }\n\n    return node\n  }\n\n  parseExpandOperator() {\n    const node: ExpandOperatorNode = {\n      type: 'ExpandOperator',\n    }\n\n    this.isMatchPattern = true\n    this.isWildMatchPattern = true\n    this.data.segments = []\n\n    this.next()\n\n    this.append(node, this.parseAtom(this.state.type))\n\n    return node\n  }\n\n  parseWildcardOperator(): WildcardOperatorNode {\n    const node: WildcardOperatorNode = {\n      type: 'WildcardOperator',\n    }\n\n    if (this.state.type === dbStarTok) {\n      node.optional = true\n    }\n\n    this.isMatchPattern = true\n    this.isWildMatchPattern = true\n    this.data.segments = []\n\n    this.next()\n\n    if (this.state.type === parenLTok) {\n      node.filter = this.parseGroupExpression(node)\n    } else if (this.state.type === bracketLTok) {\n      node.filter = this.parseRangeExpression(node)\n    }\n\n    this.append(node, this.parseAtom(this.state.type))\n\n    return node\n  }\n\n  parseDestructorExpression(): DestructorExpressionNode {\n    const node: DestructorExpressionNode = {\n      type: 'DestructorExpression',\n    }\n    this.state.context.push(destructorContext)\n    const startPos = this.state.pos - 1\n    node.value =\n      this.state.type === braceLTok\n        ? this.parseObjectPattern()\n        : this.parseArrayPattern()\n    const endPos = this.state.pos\n    this.state.context.pop()\n    node.source = this.input\n      .substring(startPos, endPos)\n      .replace(\n        /\\[\\s*([\\+\\-\\*\\/])?\\s*([^,\\]\\s]*)\\s*\\]/,\n        (match, operator, target) => {\n          if (this.relative !== undefined) {\n            if (operator) {\n              if (target) {\n                return calculate(this.relative, target, operator)\n              } else {\n                return calculate(this.relative, 1, operator)\n              }\n            } else {\n              if (target) {\n                return calculate(this.relative, target, '+')\n              } else {\n                return String(this.relative)\n              }\n            }\n          }\n          return match\n        }\n      )\n      .replace(/\\s*\\.\\s*/g, '')\n      .replace(/\\s*/g, '')\n    if (this.relative === undefined) {\n      setDestructor(node.source, parseDestructorRules(node))\n    }\n    this.relative = undefined\n    this.pushSegments(node.source)\n    this.next()\n    this.append(node, this.parseAtom(this.state.type))\n    return node\n  }\n\n  parseArrayPattern(): ArrayPatternNode {\n    const node: ArrayPatternNode = {\n      type: 'ArrayPattern',\n      elements: [],\n    }\n    this.next()\n    node.elements = this.parseArrayPatternElements()\n    return node\n  }\n\n  parseArrayPatternElements() {\n    const nodes = []\n    while (this.state.type !== bracketRTok && this.state.type !== eofTok) {\n      nodes.push(this.parseAtom(this.state.type))\n      if (this.state.type === bracketRTok) {\n        if (this.includesContext(destructorContext)) {\n          this.next()\n        }\n        return nodes\n      }\n      this.next()\n    }\n    return nodes\n  }\n\n  parseObjectPattern(): ObjectPatternNode {\n    const node: ObjectPatternNode = {\n      type: 'ObjectPattern',\n      properties: [],\n    }\n    this.next()\n    node.properties = this.parseObjectProperties()\n    return node\n  }\n\n  parseObjectProperties(): ObjectPatternPropertyNode[] {\n    const nodes = []\n    while (this.state.type !== braceRTok && this.state.type !== eofTok) {\n      const node: ObjectPatternPropertyNode = {\n        type: 'ObjectPatternProperty',\n        key: this.parseAtom(this.state.type) as IdentifierNode,\n      }\n      nodes.push(node)\n      if (this.state.type === colonTok) {\n        this.next()\n        node.value = this.parseAtom(this.state.type) as\n          | IdentifierNode\n          | ObjectPatternNode[]\n          | ArrayPatternNode[]\n      }\n      if (this.state.type === braceRTok) {\n        if (this.includesContext(destructorContext)) {\n          this.next()\n        }\n        return nodes\n      }\n      this.next()\n    }\n    return nodes\n  }\n\n  parseDotOperator(): Node {\n    const node: DotOperatorNode = {\n      type: 'DotOperator',\n    }\n\n    const prevToken = this.type_\n    if (!prevToken && this.base) {\n      if (this.base.isMatchPattern) {\n        throw new Error('Base path must be an absolute path.')\n      }\n      this.data.segments = this.base.toArr()\n      while (this.state.type === dotTok) {\n        this.relative = this.data.segments.pop()\n        this.haveRelativePattern = true\n        this.next()\n      }\n      return createTreeBySegments(\n        this.data.segments.slice(),\n        this.parseAtom(this.state.type)\n      )\n    } else {\n      this.next()\n    }\n\n    this.append(node, this.parseAtom(this.state.type))\n\n    return node\n  }\n\n  parseIgnoreExpression() {\n    this.next()\n\n    const value = String(this.state.value).replace(/\\s*/g, '')\n\n    const node: IgnoreExpressionNode = {\n      type: 'IgnoreExpression',\n      value: value,\n    }\n\n    this.pushSegments(value)\n\n    this.next()\n\n    this.append(node, this.parseAtom(this.state.type))\n\n    this.next()\n\n    return node\n  }\n\n  parseGroupExpression(parent: Node) {\n    const node: GroupExpressionNode = {\n      type: 'GroupExpression',\n      value: [],\n    }\n\n    this.isMatchPattern = true\n    this.data.segments = []\n\n    this.next()\n\n    loop: while (true) {\n      switch (this.state.type) {\n        case commaTok:\n          this.next()\n          break\n        case bangTok:\n          node.isExclude = true\n          this.haveExcludePattern = true\n          this.next()\n          break\n        case eofTok:\n          break loop\n        case parenRTok:\n          break loop\n        default:\n          node.value.push(this.parseAtom(this.state.type))\n      }\n    }\n\n    this.next()\n\n    this.append(parent, this.parseAtom(this.state.type))\n\n    return node\n  }\n\n  parseRangeExpression(parent: Node) {\n    const node: RangeExpressionNode = {\n      type: 'RangeExpression',\n    }\n\n    this.next()\n\n    this.isMatchPattern = true\n    this.data.segments = []\n\n    let start = false,\n      hasColon = false\n\n    loop: while (true) {\n      switch (this.state.type) {\n        case colonTok:\n          hasColon = true\n          start = true\n          this.next()\n          break\n        case bracketRTok:\n          if (!hasColon && !node.end) {\n            node.end = node.start\n          }\n          break loop\n        case commaTok:\n          // never reach\n          throw this.unexpect()\n        case eofTok:\n          // never reach\n          break loop\n        default:\n          if (!start) {\n            node.start = this.parseAtom(this.state.type) as IdentifierNode\n          } else {\n            node.end = this.parseAtom(this.state.type) as IdentifierNode\n          }\n      }\n    }\n\n    this.next()\n\n    this.append(parent, this.parseAtom(this.state.type))\n\n    return node\n  }\n}\n","import {\n  Segments,\n  Node,\n  isIdentifier,\n  isExpandOperator,\n  isWildcardOperator,\n  isGroupExpression,\n  isRangeExpression,\n  isIgnoreExpression,\n  isDotOperator,\n  isDestructorExpression,\n  IdentifierNode,\n  IgnoreExpressionNode,\n  DestructorExpressionNode,\n  ExpandOperatorNode,\n  WildcardOperatorNode,\n  GroupExpressionNode,\n  RangeExpressionNode,\n} from './types'\nimport { isEqual, toArr, isSegmentEqual } from './shared'\nexport interface IRecord {\n  score: number\n}\n\nexport class Matcher {\n  private tree: Node\n\n  private stack: Node[]\n\n  private record: IRecord\n\n  private excluding: boolean\n\n  private wildcards: WildcardOperatorNode[]\n\n  private path: Segments\n\n  constructor(tree: Node, record?: any) {\n    this.tree = tree\n    this.stack = []\n    this.excluding = false\n    this.wildcards = []\n    this.record = record\n  }\n\n  next(node: Node, pos: number) {\n    //  const isOverToken = pos > this.path.length\n    if (node.after) {\n      // if (isOverToken) {\n      //   return false\n      // }\n      return this.matchNode(node.after, pos)\n    }\n\n    if (isWildcardOperator(node) && !node.filter) {\n      if (this.excluding) {\n        return false\n      } else {\n        if (pos === 0 || node.optional) return true\n        return !!this.take(pos)\n      }\n    }\n\n    const isLastToken = pos === this.path.length - 1\n    if (isLastToken) {\n      return !!this.take(pos)\n    } else {\n      const wildcard = this.wildcards.pop()\n      if (wildcard && wildcard.after) {\n        return this.next(wildcard, pos)\n      }\n    }\n\n    return false\n  }\n\n  shot() {\n    if (this.record?.score >= 0) {\n      this.record.score++\n    }\n  }\n\n  take(pos: number) {\n    return String(this.path[pos] ?? '')\n  }\n\n  matchExcludeIdentifier(matched: boolean, node: Node, pos: number) {\n    const isLastToken = pos === this.path.length - 1\n    const isContainToken = pos < this.path.length\n    if (!node.after) {\n      this.excluding = false\n    }\n    if (matched) {\n      if (node.after) {\n        return this.next(node, pos)\n      }\n      if (isLastToken) {\n        return false\n      }\n    }\n    if (isLastToken) {\n      return true\n    }\n    return isContainToken\n  }\n\n  matchIdentifier(node: IdentifierNode, pos: number) {\n    const current = this.take(pos)\n    let matched = false\n    if (isExpandOperator(node.after)) {\n      if (current.indexOf(node.value) === 0) {\n        this.shot()\n        matched = true\n      }\n      if (this.excluding) {\n        return this.matchExcludeIdentifier(matched, node.after, pos)\n      } else {\n        return matched && this.next(node.after, pos)\n      }\n    } else if (current === node.value) {\n      this.shot()\n      matched = true\n    }\n    if (this.excluding) {\n      return this.matchExcludeIdentifier(matched, node, pos)\n    } else {\n      return matched && this.next(node, pos)\n    }\n  }\n\n  matchIgnoreExpression(node: IgnoreExpressionNode, pos: number) {\n    return isEqual(node.value, this.take(pos)) && this.next(node, pos)\n  }\n\n  matchDestructorExpression(node: DestructorExpressionNode, pos: number) {\n    return isEqual(node.source, this.take(pos)) && this.next(node, pos)\n  }\n\n  matchExpandOperator(node: ExpandOperatorNode, pos: number) {\n    return this.next(node, pos)\n  }\n\n  matchWildcardOperator(node: WildcardOperatorNode, pos: number) {\n    let matched = false\n    if (node.filter) {\n      this.stack.push(node)\n      matched = this.matchNode(node.filter, pos)\n      this.stack.pop()\n    } else {\n      matched = this.next(node, pos)\n    }\n    return matched\n  }\n\n  matchGroupExpression(node: GroupExpressionNode, pos: number) {\n    let excluding = false\n    if (node.isExclude) {\n      excluding = !this.excluding\n    }\n    return toArr(node.value)[excluding ? 'every' : 'some']((item) => {\n      this.wildcards = this.stack.slice() as WildcardOperatorNode[]\n      this.excluding = excluding\n      return this.matchNode(item, pos)\n    })\n  }\n\n  matchRangeExpression(node: RangeExpressionNode, pos: number) {\n    const current = Number(this.take(pos))\n    if (node.start) {\n      if (node.end) {\n        return (\n          current >= Number(node.start.value) &&\n          current <= Number(node.end.value)\n        )\n      } else {\n        return current >= Number(node.start.value)\n      }\n    } else {\n      if (node.end) {\n        return current <= Number(node.end.value)\n      } else {\n        this.wildcards = this.stack.slice() as WildcardOperatorNode[]\n        return this.next(node, pos)\n      }\n    }\n  }\n\n  matchNode(node: Node, pos = 0) {\n    if (isDotOperator(node)) {\n      return this.next(node, pos + 1)\n    } else if (isIdentifier(node)) {\n      return this.matchIdentifier(node, pos)\n    } else if (isIgnoreExpression(node)) {\n      return this.matchIgnoreExpression(node, pos)\n    } else if (isDestructorExpression(node)) {\n      return this.matchDestructorExpression(node, pos)\n    } else if (isExpandOperator(node)) {\n      return this.matchExpandOperator(node, pos)\n    } else if (isWildcardOperator(node)) {\n      return this.matchWildcardOperator(node, pos)\n    } else if (isGroupExpression(node)) {\n      return this.matchGroupExpression(node, pos)\n    } else if (isRangeExpression(node)) {\n      return this.matchRangeExpression(node, pos)\n    }\n    return false\n  }\n\n  match(path: Segments) {\n    this.path = path\n    return { matched: this.matchNode(this.tree), record: this.record }\n  }\n\n  static matchSegments(source: Segments, target: Segments, record?: any) {\n    if (source.length !== target.length) return { matched: false, record }\n    const match = (pos = 0) => {\n      const current = isSegmentEqual(source[pos], target[pos])\n      if (record?.score >= 0) {\n        record.score++\n      }\n      return current && (pos < source.length - 1 ? match(pos + 1) : true)\n    }\n    return { matched: match(), record }\n  }\n}\n","import { Parser } from './parser'\nimport { isStr, isArr, isFn, isEqual, isObj, isNum, isRegExp } from './shared'\nimport {\n  getDestructor,\n  getInByDestructor,\n  setInByDestructor,\n  deleteInByDestructor,\n  existInByDestructor,\n} from './destructor'\nimport { Segments, Node, Pattern } from './types'\nimport { Matcher } from './matcher'\n\nconst pathCache = new Map()\n\nconst isMatcher = Symbol('PATH_MATCHER')\n\nconst isValid = (val: any) => val !== undefined && val !== null\n\nconst isSimplePath = (val: string) =>\n  val.indexOf('*') === -1 &&\n  val.indexOf('~') === -1 &&\n  val.indexOf('[') === -1 &&\n  val.indexOf(']') === -1 &&\n  val.indexOf(',') === -1 &&\n  val.indexOf(':') === -1 &&\n  val.indexOf(' ') === -1 &&\n  val[0] !== '.'\n\nconst isAssignable = (val: any) =>\n  typeof val === 'object' || typeof val === 'function'\n\nconst isNumberIndex = (val: any) =>\n  isStr(val) ? /^\\d+$/.test(val) : isNum(val)\n\nconst getIn = (segments: Segments, source: any) => {\n  for (let i = 0; i < segments.length; i++) {\n    const index = segments[i]\n    const rules = getDestructor(index as string)\n    if (!rules) {\n      if (!isValid(source)) return\n      source = source[index]\n    } else {\n      source = getInByDestructor(source, rules, { setIn, getIn })\n      break\n    }\n  }\n  return source\n}\n\nconst setIn = (segments: Segments, source: any, value: any) => {\n  for (let i = 0; i < segments.length; i++) {\n    const index = segments[i]\n    const rules = getDestructor(index as string)\n    if (!rules) {\n      if (!isValid(source) || !isAssignable(source)) return\n      if (isArr(source) && !isNumberIndex(index)) {\n        return\n      }\n      if (!isValid(source[index])) {\n        if (value === undefined) {\n          if (source[index] === null) source[index] = value\n          return\n        }\n        if (i < segments.length - 1) {\n          source[index] = isNum(segments[i + 1]) ? [] : {}\n        }\n      }\n      if (i === segments.length - 1) {\n        source[index] = value\n      }\n      source = source[index]\n    } else {\n      setInByDestructor(source, rules, value, { setIn, getIn })\n      break\n    }\n  }\n}\n\nconst deleteIn = (segments: Segments, source: any) => {\n  for (let i = 0; i < segments.length; i++) {\n    const index = segments[i]\n    const rules = getDestructor(index as string)\n    if (!rules) {\n      if (i === segments.length - 1 && isValid(source)) {\n        delete source[index]\n        return\n      }\n\n      if (!isValid(source) || !isAssignable(source)) return\n      source = source[index]\n      if (!isObj(source)) {\n        return\n      }\n    } else {\n      deleteInByDestructor(source, rules, {\n        setIn,\n        getIn,\n        deleteIn,\n      })\n      break\n    }\n  }\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\n\nconst existIn = (segments: Segments, source: any, start: number | Path) => {\n  if (start instanceof Path) {\n    start = start.length\n  }\n  for (let i = start; i < segments.length; i++) {\n    const index = segments[i]\n    const rules = getDestructor(index as string)\n    if (!rules) {\n      if (i === segments.length - 1) {\n        return hasOwnProperty.call(source, index)\n      }\n\n      if (!isValid(source) || !isAssignable(source)) return false\n      source = source[index]\n\n      if (!isObj(source)) {\n        return false\n      }\n    } else {\n      return existInByDestructor(source, rules, start, {\n        setIn,\n        getIn,\n        deleteIn,\n        existIn,\n      })\n    }\n  }\n}\n\nconst parse = (pattern: Pattern, base?: Pattern) => {\n  if (pattern instanceof Path) {\n    return {\n      entire: pattern.entire,\n      segments: pattern.segments.slice(),\n      isRegExp: false,\n      haveRelativePattern: pattern.haveRelativePattern,\n      isWildMatchPattern: pattern.isWildMatchPattern,\n      isMatchPattern: pattern.isMatchPattern,\n      haveExcludePattern: pattern.haveExcludePattern,\n      tree: pattern.tree,\n    }\n  } else if (isStr(pattern)) {\n    if (!pattern) {\n      return {\n        entire: '',\n        segments: [],\n        isRegExp: false,\n        isWildMatchPattern: false,\n        haveExcludePattern: false,\n        isMatchPattern: false,\n      }\n    }\n    if (isSimplePath(pattern)) {\n      return {\n        entire: pattern,\n        segments: pattern.split('.'),\n        isRegExp: false,\n        isWildMatchPattern: false,\n        haveExcludePattern: false,\n        isMatchPattern: false,\n      }\n    }\n    const parser = new Parser(pattern, Path.parse(base))\n    const tree = parser.parse()\n    if (!parser.isMatchPattern) {\n      const segments = parser.data.segments\n      return {\n        entire: segments.join('.'),\n        segments,\n        tree,\n        isRegExp: false,\n        haveRelativePattern: parser.haveRelativePattern,\n        isWildMatchPattern: false,\n        haveExcludePattern: false,\n        isMatchPattern: false,\n      }\n    } else {\n      return {\n        entire: pattern,\n        segments: [],\n        isRegExp: false,\n        haveRelativePattern: false,\n        isWildMatchPattern: parser.isWildMatchPattern,\n        haveExcludePattern: parser.haveExcludePattern,\n        isMatchPattern: true,\n        tree,\n      }\n    }\n  } else if (isFn(pattern) && pattern[isMatcher]) {\n    return parse(pattern['path'])\n  } else if (isArr(pattern)) {\n    return {\n      entire: pattern.join('.'),\n      segments: pattern.reduce((buf, key) => {\n        return buf.concat(parseString(key))\n      }, []),\n      isRegExp: false,\n      haveRelativePattern: false,\n      isWildMatchPattern: false,\n      haveExcludePattern: false,\n      isMatchPattern: false,\n    }\n  } else if (isRegExp(pattern)) {\n    return {\n      entire: pattern,\n      segments: [],\n      isRegExp: true,\n      haveRelativePattern: false,\n      isWildMatchPattern: false,\n      haveExcludePattern: false,\n      isMatchPattern: true,\n    }\n  } else {\n    return {\n      entire: '',\n      isRegExp: false,\n      segments: pattern !== undefined ? [pattern] : [],\n      haveRelativePattern: false,\n      isWildMatchPattern: false,\n      haveExcludePattern: false,\n      isMatchPattern: false,\n    }\n  }\n}\n\nconst parseString = (source: any) => {\n  if (isStr(source)) {\n    source = source.replace(/\\s*/g, '')\n    try {\n      const { segments, isMatchPattern } = parse(source)\n      return !isMatchPattern ? segments : source\n    } catch (e) {\n      return source\n    }\n  } else if (source instanceof Path) {\n    return source.segments\n  }\n  return source\n}\n\nexport class Path {\n  public entire: string | RegExp\n  public segments: Segments\n  public isMatchPattern: boolean\n  public isWildMatchPattern: boolean\n  public isRegExp: boolean\n  public haveRelativePattern: boolean\n  public haveExcludePattern: boolean\n  public matchScore: number\n  public tree: Node\n  private matchCache: any\n  private includesCache: any\n\n  constructor(input: Pattern, base?: Pattern) {\n    const {\n      tree,\n      segments,\n      entire,\n      isRegExp,\n      isMatchPattern,\n      isWildMatchPattern,\n      haveRelativePattern,\n      haveExcludePattern,\n    } = parse(input, base)\n    this.entire = entire\n    this.segments = segments\n    this.isMatchPattern = isMatchPattern\n    this.isWildMatchPattern = isWildMatchPattern\n    this.haveRelativePattern = haveRelativePattern\n    this.isRegExp = isRegExp\n    this.haveExcludePattern = haveExcludePattern\n    this.tree = tree as Node\n    this.matchCache = new Map()\n    this.includesCache = new Map()\n  }\n\n  toString() {\n    return this.entire?.toString()\n  }\n\n  toArr() {\n    return this.segments?.slice()\n  }\n\n  get length() {\n    return this.segments.length\n  }\n\n  concat = (...args: Pattern[]) => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be concat`)\n    }\n    const path = new Path('')\n    path.segments = this.segments.concat(...args.map((s) => parseString(s)))\n    path.entire = path.segments.join('.')\n    return path\n  }\n\n  slice = (start?: number, end?: number) => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be slice`)\n    }\n    const path = new Path('')\n    path.segments = this.segments.slice(start, end)\n    path.entire = path.segments.join('.')\n    return path\n  }\n\n  push = (...items: Pattern[]) => {\n    return this.concat(...items)\n  }\n\n  pop = () => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be pop`)\n    }\n    return new Path(this.segments.slice(0, this.segments.length - 1))\n  }\n\n  splice = (\n    start: number,\n    deleteCount?: number,\n    ...items: Array<string | number>\n  ) => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be splice`)\n    }\n    items = items.reduce((buf, item) => buf.concat(parseString(item)), [])\n    const segments_ = this.segments.slice()\n    segments_.splice(start, deleteCount, ...items)\n    return new Path(segments_)\n  }\n\n  forEach = (callback: (key: string | number) => any) => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be each`)\n    }\n    this.segments.forEach(callback)\n  }\n\n  map = (callback: (key: string | number) => any) => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be map`)\n    }\n    return this.segments.map(callback)\n  }\n\n  reduce = <T>(\n    callback: (buf: T, item: string | number, index: number) => T,\n    initial: T\n  ): T => {\n    if (this.isMatchPattern || this.isRegExp) {\n      throw new Error(`${this.entire} cannot be reduce`)\n    }\n    return this.segments.reduce(callback, initial)\n  }\n\n  parent = () => {\n    return this.slice(0, this.length - 1)\n  }\n\n  includes = (pattern: Pattern) => {\n    const { entire, segments, isMatchPattern } = Path.parse(pattern)\n    const cache = this.includesCache.get(entire)\n    if (cache !== undefined) return cache\n    const cacheWith = (value: boolean): boolean => {\n      this.includesCache.set(entire, value)\n      return value\n    }\n    if (this.isMatchPattern) {\n      if (!isMatchPattern) {\n        return cacheWith(this.match(segments))\n      } else {\n        throw new Error(`${this.entire} cannot be used to match ${entire}`)\n      }\n    }\n    if (isMatchPattern) {\n      throw new Error(`${this.entire} cannot be used to match ${entire}`)\n    }\n    if (segments.length > this.segments.length) return cacheWith(false)\n    for (let i = 0; i < segments.length; i++) {\n      if (!isEqual(String(segments[i]), String(this.segments[i]))) {\n        return cacheWith(false)\n      }\n    }\n    return cacheWith(true)\n  }\n\n  transform = <T>(\n    regexp: string | RegExp,\n    callback: (...args: string[]) => T\n  ): T | string => {\n    if (!isFn(callback)) return ''\n    if (this.isMatchPattern) {\n      throw new Error(`${this.entire} cannot be transformed`)\n    }\n    const reg = new RegExp(regexp)\n    const args = this.segments.filter((key) =>\n      reg.test(key as string)\n    ) as string[]\n    return callback(...args)\n  }\n\n  match = (pattern: Pattern): boolean => {\n    const path = Path.parse(pattern)\n    const cache = this.matchCache.get(path.entire)\n    if (cache !== undefined) {\n      if (cache.record && cache.record.score !== undefined) {\n        this.matchScore = cache.record.score\n      }\n      return cache.matched\n    }\n    const cacheWith = (value: any) => {\n      this.matchCache.set(path.entire, value)\n      return value\n    }\n    if (path.isMatchPattern) {\n      if (this.isMatchPattern) {\n        throw new Error(`${path.entire} cannot match ${this.entire}`)\n      } else {\n        this.matchScore = 0\n        return cacheWith(path.match(this.segments))\n      }\n    } else {\n      if (this.isMatchPattern) {\n        if (this.isRegExp) {\n          try {\n            return this['entire']?.['test']?.(path.entire)\n          } finally {\n            ;(this.entire as RegExp).lastIndex = 0\n          }\n        }\n        const record = {\n          score: 0,\n        }\n        const result = cacheWith(\n          new Matcher(this.tree, record).match(path.segments)\n        )\n        this.matchScore = record.score\n        return result.matched\n      } else {\n        const record = {\n          score: 0,\n        }\n        const result = cacheWith(\n          Matcher.matchSegments(this.segments, path.segments, record)\n        )\n        this.matchScore = record.score\n        return result.matched\n      }\n    }\n  }\n\n  //\n  matchAliasGroup = (name: Pattern, alias: Pattern) => {\n    const namePath = Path.parse(name)\n    const aliasPath = Path.parse(alias)\n    const nameMatched = this.match(namePath)\n    const nameMatchedScore = this.matchScore\n    const aliasMatched = this.match(aliasPath)\n    const aliasMatchedScore = this.matchScore\n    if (this.haveExcludePattern) {\n      if (nameMatchedScore >= aliasMatchedScore) {\n        return nameMatched\n      } else {\n        return aliasMatched\n      }\n    } else {\n      return nameMatched || aliasMatched\n    }\n  }\n\n  existIn = (source?: any, start: number | Path = 0) => {\n    return existIn(this.segments, source, start)\n  }\n\n  getIn = (source?: any) => {\n    return getIn(this.segments, source)\n  }\n\n  setIn = (source?: any, value?: any) => {\n    setIn(this.segments, source, value)\n    return source\n  }\n\n  deleteIn = (source?: any) => {\n    deleteIn(this.segments, source)\n    return source\n  }\n\n  ensureIn = (source?: any, defaults?: any) => {\n    const results = this.getIn(source)\n    if (results === undefined) {\n      this.setIn(source, defaults)\n      return this.getIn(source)\n    }\n    return results\n  }\n\n  static match(pattern: Pattern) {\n    const path = Path.parse(pattern)\n    const matcher = (target) => {\n      return path.match(target)\n    }\n    matcher[isMatcher] = true\n    matcher.path = path\n    return matcher\n  }\n\n  static isPathPattern(target: any): target is Pattern {\n    return !!(\n      isStr(target) ||\n      isArr(target) ||\n      isRegExp(target) ||\n      (isFn(target) && target[isMatcher])\n    )\n  }\n\n  static transform<T>(\n    pattern: Pattern,\n    regexp: string | RegExp,\n    callback: (...args: string[]) => T\n  ): any {\n    return Path.parse(pattern).transform(regexp, callback)\n  }\n\n  static parse(path: Pattern = '', base?: Pattern): Path {\n    if (path instanceof Path) {\n      const found = pathCache.get(path.entire)\n      if (found) {\n        return found\n      } else {\n        pathCache.set(path.entire, path)\n        return path\n      }\n    } else if (path && path[isMatcher]) {\n      return Path.parse(path['path'])\n    } else {\n      const key_ = base ? Path.parse(base) : ''\n      const key = `${path}:${key_}`\n      const found = pathCache.get(key)\n      if (found) {\n        return found\n      } else {\n        path = new Path(path, base)\n        pathCache.set(key, path)\n        return path\n      }\n    }\n  }\n\n  static getIn = (source: any, pattern: Pattern) => {\n    const path = Path.parse(pattern)\n    return path.getIn(source)\n  }\n\n  static setIn = (source: any, pattern: Pattern, value: any) => {\n    const path = Path.parse(pattern)\n    return path.setIn(source, value)\n  }\n\n  static deleteIn = (source: any, pattern: Pattern) => {\n    const path = Path.parse(pattern)\n    return path.deleteIn(source)\n  }\n\n  static existIn = (source: any, pattern: Pattern, start?: number | Path) => {\n    const path = Path.parse(pattern)\n    return path.existIn(source, start)\n  }\n\n  static ensureIn = (source: any, pattern: Pattern, defaultValue?: any) => {\n    const path = Path.parse(pattern)\n    return path.ensureIn(source, defaultValue)\n  }\n}\n\nexport { Pattern }\n"],"names":["isType","isValid"],"mappings":"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"}
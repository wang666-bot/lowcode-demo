{"version":3,"names":["_helperPluginUtils","require","_default","exports","default","declare","api","assertVersion","name","manipulateOptions","_","parser","plugins","push","visitor","DoExpression","exit","path","node","async","body","length","replaceExpressionWithStatements","replaceWith","scope","buildUndefinedNode"],"sources":["../src/index.ts"],"sourcesContent":["import { declare } from \"@babel/helper-plugin-utils\";\n\nexport default declare(api => {\n  api.assertVersion(REQUIRED_VERSION(7));\n\n  return {\n    name: \"proposal-do-expressions\",\n    manipulateOptions: (_, parser) => parser.plugins.push(\"doExpressions\"),\n\n    visitor: {\n      DoExpression: {\n        exit(path) {\n          const { node } = path;\n          if (node.async) {\n            // Async do expressions are not yet supported\n            return;\n          }\n          const body = node.body.body;\n          if (body.length) {\n            path.replaceExpressionWithStatements(body);\n          } else {\n            path.replaceWith(path.scope.buildUndefinedNode());\n          }\n        },\n      },\n    },\n  };\n});\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AAAqD,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEtC,IAAAC,0BAAO,EAACC,GAAG,IAAI;EAC5BA,GAAG,CAACC,aAAa,CAAkB,CAAE,CAAC;EAEtC,OAAO;IACLC,IAAI,EAAE,yBAAyB;IAC/BC,iBAAiB,EAAEA,CAACC,CAAC,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,eAAe,CAAC;IAEtEC,OAAO,EAAE;MACPC,YAAY,EAAE;QACZC,IAAIA,CAACC,IAAI,EAAE;UACT,MAAM;YAAEC;UAAK,CAAC,GAAGD,IAAI;UACrB,IAAIC,IAAI,CAACC,KAAK,EAAE;YAEd;UACF;UACA,MAAMC,IAAI,GAAGF,IAAI,CAACE,IAAI,CAACA,IAAI;UAC3B,IAAIA,IAAI,CAACC,MAAM,EAAE;YACfJ,IAAI,CAACK,+BAA+B,CAACF,IAAI,CAAC;UAC5C,CAAC,MAAM;YACLH,IAAI,CAACM,WAAW,CAACN,IAAI,CAACO,KAAK,CAACC,kBAAkB,CAAC,CAAC,CAAC;UACnD;QACF;MACF;IACF;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]}
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
exports.__esModule = true;
exports.createIcon = createIcon;
var _icon = _interopRequireDefault(require("@alifd/next/lib/icon"));
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _react = require("react");
var _isReact = require("./is-react");
var _isEsModule = require("./is-es-module");
var URL_RE = /^(https?:)\/\//i;
function createIcon(icon, props) {
  if (!icon) {
    return null;
  }
  if ((0, _isEsModule.isESModule)(icon)) {
    icon = icon["default"];
  }
  if (typeof icon === 'string') {
    if (URL_RE.test(icon)) {
      return /*#__PURE__*/(0, _react.createElement)('img', (0, _extends2["default"])({
        src: icon,
        "class": props === null || props === void 0 ? void 0 : props.className
      }, props));
    }
    return /*#__PURE__*/React.createElement(_icon["default"], (0, _extends2["default"])({
      type: icon
    }, props));
  }
  if ( /*#__PURE__*/(0, _react.isValidElement)(icon)) {
    return /*#__PURE__*/(0, _react.cloneElement)(icon, (0, _extends2["default"])({}, props));
  }
  if ((0, _isReact.isReactComponent)(icon)) {
    return /*#__PURE__*/(0, _react.createElement)(icon, (0, _extends2["default"])({
      "class": props === null || props === void 0 ? void 0 : props.className
    }, props));
  }
  return /*#__PURE__*/React.createElement(_icon["default"], (0, _extends2["default"])({}, icon, props));
}